# Perf Fiscal 0.5.0

Released: 2025-11-23

## Highlights

- **New guardrails for React apps** – `no-inline-context-value` now ships by default, catching inline objects/arrays passed to `Context.Provider value` before they invalidate every consumer.
- **Import hygiene enforcement** – `no-heavy-bundle-imports` detects default entrypoints from large packages (lodash, moment, legacy SDKs) and suggests safe subpath imports when possible.
- **Analyzer-aware diagnostics** – Cross-file metadata now flows into reporter outputs and docs, helping teams understand memoization boundaries and async flows from a single lint run.
- **Documentation refresh** – Both `README.md` and `README-pt.md` describe the new rules, release messaging, and configuration snippets so bilingual teams stay aligned.

## Upgrading

1. Update your dependency to `eslint-plugin-perf-fiscal@^0.5.0`.
2. Re-run your package manager install step.
3. (Optional) wire up the new rules explicitly if you run a custom config:
   ```json
   {
     "perf-fiscal/no-inline-context-value": "warn",
     "perf-fiscal/no-heavy-bundle-imports": ["warn", { "packages": [{ "name": "lodash", "suggestSubpath": true }] }]
   }
   ```

Both rules are part of the recommended preset; no extra configuration is required when extending `plugin:perf-fiscal/recommended` or using `perfFiscal.configs.recommended`.

## Rule Updates

- Added `no-inline-context-value` with AST utilities to unwrap expressions and ensure only object/array literals trigger reports.
- Added `no-heavy-bundle-imports` with customizable package lists, named-import allowances, and safe autofixes for one-off helper imports.
- Expanded `no-unstable-inline-props` inference by tracking recursion depth inside `evaluateInitializerKind`, preventing stack overflows while still resolving nested bindings.
- Hardened reporter typings by introducing `AnalyzerMetricSnapshot`, eliminating the final `any` usage in the report surface.

## Analyzer & DX Improvements

- README guides now show how cross-file intelligence (memo boundaries, async origins) manifests in diagnostics, plus practical recipes for memoizing Context values and avoiding heavy imports.
- Portuguese README mirrors every English update so teams switching languages see identical guidance.
- `docs/rules/no-heavy-bundle-imports.md` documents rationale, options, and examples for security/perf review sign-off.

## Testing

All lint, test, and build scripts pass:

```
npm run lint
npm run test
npm run build
```

No additional migration steps are required beyond bumping the dependency.

